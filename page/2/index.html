<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>
    
    点滴</title>
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  
    <link rel="alternate" href="/atom.xml" title="点滴" type="application/atom+xml">
  
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">
  
  <script src="/js/pace.min.js"></script>
</head>
</html>
<body>
<main class="content">
  <section class="jumbotron">
  <div class="video">
    <div class="video-frame">
      <img src="http://source.zhwangart.com/hexo/themes/ocean/video/overlay-hero.png" alt="Decorative image frame">
    </div>
    <div class="video-media">
      <video playsinline="" autoplay loop muted data-autoplay="" poster="http://source.zhwangart.com/hexo/themes/ocean/video/ocean.png" x5-video-player-type="h5">
        <source src="http://source.zhwangart.com/hexo/themes/ocean/video/ocean.mp4" type="video/mp4">
        <source src="http://source.zhwangart.com/hexo/themes/ocean/video/ocean.ogv" type="video/ogg">
        <source src="http://source.zhwangart.com/hexo/themes/ocean/video/ocean.webm" type="video/webm">
        <p>Your user agent does not support the HTML5 Video element.</p>
      </video>
      <div class="video-overlay"></div>
    </div>
    <div class="video-inner text-center text-white">
      <h1><a href="/">点滴</a></h1>
      <p></p>
      <div><img src="/images/hexo-inverted.svg" class="brand" alt="点滴"></div>
    </div>
    <div class="video-learn-more">
      <a class="anchor" href="#landingpage"><i class="fe fe-mouse"></i></a>
    </div>
  </div>
</section>

<div id="landingpage">
  <section class="outer">
  <article class="articles">
    
    <h1 class="page-type-title"></h1>

    
      
        <article id="post-dom" class="article article-type-post" itemscope="" itemprop="blogPost">

  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/2016/06/20/dom/">浏览器的DOM</a>
    </h2>
  

      </header>
    

    
      <div class="article-meta">
        <a href="/2016/06/20/dom/" class="article-date">
  <time datetime="2016-06-20T02:58:22.000Z" itemprop="datePublished">2016-06-20</time>
</a>
        
      </div>
    

    <div class="article-entry" itemprop="articleBody">
      
      
      
        <h1 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h1><p>解析器的输出“解析树”是由 DOM 元素和属性节点构成的树结构。DOM 是文档对象模型 (Document Object Model) 的缩写。它是 HTML 文档的对象表示，同时也是外部内容（例如 JavaScript）与 HTML 元素之间的接口。<br>解析树的根节点是“Document”对象。</p>
<p>DOM 与标记之间几乎是一一对应的关系。比如下面这段标记</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      Hello World</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span> <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"example.png"</span>/&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>可翻译成如下的 DOM 树：</p>
<div align="center"><img src="https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/image015.png" alt=""></div>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="built_in">document</span>.children[<span class="number">0</span>])</span><br><span class="line"><span class="comment">// 返回 "[object HTMLHtmlElement]"，证明了 document的第一个子元素是 html，当然也只有一个；</span></span><br><span class="line"><span class="built_in">document</span>.children.length</span><br><span class="line"><span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h1 id="呈现树和-DOM-树的关系"><a href="#呈现树和-DOM-树的关系" class="headerlink" title="呈现树和 DOM 树的关系"></a>呈现树和 DOM 树的关系</h1><p>呈现器是和 DOM 元素相对应的，但并非一一对应。非可视化的 DOM 元素不会插入呈现树中，例如“head”元素。如果元素的 display 属性值为“none”，那么也不会显示在呈现树中（但是 visibility 属性值为“hidden”的元素仍会显示）</p>
<div align="center"><img src="https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/image025.png" alt=""></div>


<h1 id="webkit-流程"><a href="#webkit-流程" class="headerlink" title="webkit 流程"></a>webkit 流程</h1><div align="center"><img src="https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/webkitflow.png" alt=""></div>

<h2 id="css的阻塞"><a href="#css的阻塞" class="headerlink" title="css的阻塞"></a>css的阻塞</h2><h3 id="测试一"><a href="#测试一" class="headerlink" title="测试一"></a>测试一</h3><p>如下测试中，文件 <a href="http://127.0.0.1:5000/css" target="_blank" rel="noopener">http://127.0.0.1:5000/css</a> 设置了延迟，其表现：</p>
<ol>
<li>在等待过程中，后边的css文件gitbook-min.css 也发出了请求，且下载成功了，说明css不会阻塞其他css文件下载；</li>
<li>但页面上没有可视内容，是一片空白；</li>
<li>另外元素 <div id="out">dom</div> 通过 document.getElementById(‘out’) 查看是存在的；</li>
</ol>
<blockquote>
<p>结论：css 不会阻塞其他css下载；不会阻塞dom树构建；但会影响页面渲染；也就是说，页面渲染需要dom tree 和 css rules都准备完成，然后在合并为render tree，最后渲染；卡壳等待原因是在css rules处；</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"http://127.0.0.1:5000/css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">  </span></span><br><span class="line"><span class="undefined">  body&#123;</span></span><br><span class="line"><span class="undefined">    background-color: yellow;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"out"</span>&gt;</span>dom<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="测试二"><a href="#测试二" class="headerlink" title="测试二"></a>测试二</h3><p>以下：在头部插入脚本时，在<a href="http://127.0.0.1:5000/css" target="_blank" rel="noopener">http://127.0.0.1:5000/css</a> 请求过程中，js未执行，dom未渲染；</p>
<blockquote>
<p>结论：css 在请求期间，不会阻塞其他css样式文件，但会阻js；注意加载位置顺序：</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"http://127.0.0.1:5000/css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"http://a.apebook.org/gitbook-min.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined">alert(1)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"http://www.bootcss.com/assets/css/site.min.css?1542483686613"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"out"</span>&gt;</span>dom<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="测试三"><a href="#测试三" class="headerlink" title="测试三"></a>测试三</h3><p>以下：css延迟脚本在页面底部，并且设置body是黄色，在执行等待期间，其他css文件已下载，页面是白屏等待，并未看到黄色背景，此时body,div等dom元素都是存在的，页面仍未看到效果；</p>
<blockquote>
<p>结论：css文件无论在什么位置，只要没加载完成，都会阻塞dom的渲染; 在渲染之前， Style Rules必须准备就绪，在未就绪前，渲染和dom 都是无意义的；但是浏览器也做了超时控制，不可能无限制等待，因为没有css时，简单的dom也是可用的，因此当外部css文件超时后，就被忽略掉，使用了页面黄色背景，并且完成页面渲染；</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"http://a.apebook.org/gitbook-min.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"http://www.bootcss.com/assets/css/site.min.css?1542483686613"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">  </span></span><br><span class="line"><span class="undefined">  body&#123;</span></span><br><span class="line"><span class="undefined">    background-color: yellow;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"out"</span> <span class="attr">style</span>=<span class="string">"color: blue;"</span>&gt;</span>dom<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">""</span> <span class="attr">name</span>=<span class="string">""</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"http://127.0.0.1:5000/css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="测试四"><a href="#测试四" class="headerlink" title="测试四"></a>测试四</h3><p>css 延迟100秒，js延迟5秒；</p>
<ul>
<li>在css等待响应过程中；js在5后下载成功；</li>
<li>获取dom不存在，此时页面body元素都看不到；</li>
<li>js文件下载后，但未被执行；</li>
</ul>
<p>分析下浏览器设计思路：</p>
<ul>
<li>浏览器在请求下载 css和js外部文件，是不会相互阻塞的下载，阻塞的是执行和使用资源；</li>
<li>资源的使用是相互依赖的；</li>
<li>js准备就绪，执行的前提是dom存在；</li>
<li>若需要dom，则css文件需存在；</li>
</ul>
<p>设想：css文件在等待下载中，js文件已经准备好了，如果允许dom准备，那么js文件执行，执行后，此时css文件仍然未下载完成，页面还是看不到，那么执行这个js任务有什么意义；执行js文件后，如果css文件下载完成，页面渲染，试想看到的页面是js的目的吗，加入js更改了背景颜色，后来css又更改了背景颜色，岂不是乱套了。记住，js修改页面时，允许是页面已经就绪，否则混乱了；</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"http://127.0.0.1:5000/css2"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"http://127.0.0.1:5000/js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"out"</span> <span class="attr">style</span>=<span class="string">"color:blue;"</span>&gt;</span>dom<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="测试五"><a href="#测试五" class="headerlink" title="测试五"></a>测试五</h3><p>css 延迟100秒，js延迟5秒；</p>
<ul>
<li>页面在css、js等待下载过程中，dom很快生成了，但页面是空白的，因为还没有渲染；</li>
<li>5秒后，js文件下载完成，css还在等待下载中，但js未执行，即使dom存在了，因为css文件在前边，如果此时js执行了，后边css文件又影响了页面渲染，那么js执行的效果未必是开发者可以控制的或开发者的目的；</li>
</ul>
<blockquote>
<p>结论：页面在等待下载css过程中，在生成新的渲染之前，是不允许执行js的，必须等待生成新的渲染上下文后，再执行js；</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://127.0.0.1:5000/css2&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">  body&#123;</span><br><span class="line">    background-color: yellow;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;out&quot; style=&quot;color:blue;&quot;&gt;dom&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;http://127.0.0.1:5000/js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h2 id="js-阻塞"><a href="#js-阻塞" class="headerlink" title="js 阻塞"></a>js 阻塞</h2><p>js延迟10秒；css 延迟3秒，</p>
<p>如下测试中，文件 <a href="http://127.0.0.1:5000/js" target="_blank" rel="noopener">http://127.0.0.1:5000/js</a> 设置了延迟返回，是个js文件，有个<code>alert(1)</code>片段；</p>
<ul>
<li>在js和css都未完成下载时，dom不存在；</li>
<li>在js等待下载，css已下载，dom仍然不存在；</li>
<li>js下载完成，执行了alert(1)，但为关闭，也就是说脚本执行了，但未执行完之前，dom仍然不存在；</li>
<li>js完成执行后，生成了dom ,渲染了页面；</li>
</ul>
<blockquote>
<p>结论：js文件会阻塞后续js文件执行和dom生成,为了尽快渲染dom，应该js文件在页面底部加载，头部禁止，除非业务必须使用的资源脚本；<br>js文件是同步执行，必须执行完成一个后，才能执行下一个js或页面渲染；</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"http://127.0.0.1:5000/js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"http://127.0.0.1:5000/css2"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"out"</span>&gt;</span>dom<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="浏览器js和js位置"><a href="#浏览器js和js位置" class="headerlink" title="浏览器js和js位置"></a>浏览器js和js位置</h2><p>位置对执行顺序的影响</p>
<ul>
<li>css规则：css在文件头部，目的是准备就绪css rules，规则未准备好之前页面不渲染，禁止用户看页面，防止页面跳动;</li>
<li>页面渲染：执行body区域，生成dom tree,同时与css合并生成render tree,最终渲染完成，用户看到初始页面；</li>
<li>执行脚本：顺序执行脚本任务，动态更改css和dom，重新完成一次渲染；</li>
</ul>
<blockquote>
<p>以上是用户体验最好的加载顺序；<br>资源请求下载是异步的，不会被阻塞；<br>js和css相互阻塞的是执行、执行、执行；</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kangning1206.github.io/2016/06/20/dom/" data-id="cjp89btqm0007zvo17o29xqck" class="article-share-link">Share</a>
      
    </footer>
  </div>

  

</article>



      
        <article id="post-prototype" class="article article-type-post" itemscope="" itemprop="blogPost">

  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/2015/10/12/prototype/">prototype</a>
    </h2>
  

      </header>
    

    
      <div class="article-meta">
        <a href="/2015/10/12/prototype/" class="article-date">
  <time datetime="2015-10-12T08:46:49.000Z" itemprop="datePublished">2015-10-12</time>
</a>
        
      </div>
    

    <div class="article-entry" itemprop="articleBody">
      
      
      
        <p>JavaScript 常被描述为一种基于原型的语言 (prototype-based language)——<code>每个对象拥有一个原型对象</code>，对象以其原型为<code>模板</code>、从原型<code>继承方法和属性</code>。原型对象也可能拥有原型，并从中继承方法和属性，一层一层、以此类推。这种关系常被称为原型链 (prototype chain)，它解释了为何一个对象会拥有定义在其他对象中的属性和方法。</p>
<p>javascript 创建对象</p>
<h2 id="方式1"><a href="#方式1" class="headerlink" title="方式1"></a>方式1</h2><p>手工作坊，生成的对象看似一致，实际是没有任何关系的，且生成效率很低；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var mycar = &#123;</span><br><span class="line">  name : &apos;BMW&apos;,</span><br><span class="line">  color: &apos;black&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="方式2"><a href="#方式2" class="headerlink" title="方式2"></a>方式2</h2><p>加工厂，根据需要，零件快速组装，出厂都是属性名都是一样的，其他配置用户后期可以加装(自己增加属性);</p>
<p>特点：</p>
<ul>
<li>快速产出对象，对象之间是独立的个体；</li>
<li>实例对象之间仍然看不出有什么关联关系；比如看不出是同一个厂家生产的；</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function factory(name, color) &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    name: name,</span><br><span class="line">    color: color</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var myCar = factory(&apos;BMW&apos;,&apos;black&apos;);</span><br><span class="line"></span><br><span class="line">var yourCar = factory(&apos;MINI&apos;,&apos;Blue&apos;);</span><br></pre></td></tr></table></figure>
<h2 id="方式3"><a href="#方式3" class="headerlink" title="方式3"></a>方式3</h2><p>使用Object.create方法；</p>
<p>Object.create()方法创建一个新对象，使用现有的对象来提供新创建的对象的<strong>proto</strong>。</p>
<p>语法<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.create(proto, [propertiesObject])</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const o = Object.create(null);</span><br><span class="line">// o = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">const o2 = Object.create(&#123;&#125;);</span><br><span class="line">// o2 = &#123;&#125;;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：o和o2 差异很大，o 没有任何继承属性和方法；o2却有</p>
</blockquote>
<h2 id="方式3-1"><a href="#方式3-1" class="headerlink" title="方式3"></a>方式3</h2><p>构造函数，使用关键字<code>new</code>去创建一个对象，new后边的函数构造函数，可以认为是个模板，模板中出来的产品肯定是一样的，相同的特性；</p>
<p>使用实例 <code>myCar.__proto__.constructor</code> 可以查看构造方法，这样我们就可以知道他的来源了；</p>
<p>在javascript中，实例对象上都有一个影藏属性<code>__proto__</code>,指向构造函数的<code>prototype</code>属性；</p>
<p><code>myCar.__proto__.constructor == Car</code> 返回 true</p>
<p><code>myCar.__proto__ == Car.prototype</code> 返回 true</p>
<p>myCar.<strong>proto</strong>.constructor == yourCar.<strong>proto</strong>.constructor</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function Car(name, color) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">  this.color = color;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var myCar = new Car(&apos;BMW&apos;,&apos;black&apos;);</span><br><span class="line"></span><br><span class="line">var yourCar = new Car(&apos;MINI&apos;,&apos;Blue&apos;);</span><br></pre></td></tr></table></figure>
<p>此方式是创建一个用户自定义的对象需要两步：</p>
<p>通过编写函数来定义对象类型。<br>通过new来创建对象实例。<br>创建一个对象类型，需要创建一个指定其名称和属性的函数；对象的属性可以指向其他对象，看下面的例子：</p>
<p>当代码 new Car(…) 执行时，会发生以下事情：</p>
<ol>
<li>一个继承自 Car.prototype 的新对象被创建。 使用 myCar.<strong>proto</strong>找到 Car.prototype；</li>
<li>使用指定的参数调用构造函数 Car ，并将 this 绑定到新创建的对象。new Car 等同于 new Car()Car 不带任何参数调用的情况。</li>
<li>由构造函数返回的对象就是 new 表达式的结果。如果构造函数没有显式返回一个对象，则使用步骤1创建的对象。（一般情况下，构造函数不返回值，但是用户可以选择主动返回对象，来覆盖正常的对象创建步骤）</li>
</ol>
<p>## </p>
<ul>
<li>Oject 对象也是从函数继承过来的</li>
</ul>
<p>Object.<strong>proto</strong> == Function.prototype</p>
<ul>
<li>Object 是个函数，返回 “[object Function]”</li>
</ul>
<p>Object.prototype.toString.call(Object)</p>
<ul>
<li>函数 function foo(){} 与 Object函数 都继承与Function;<br>abc.<strong>proto</strong> == Object.<strong>proto</strong> 是相等的；</li>
</ul>
<p>你可以使用 Function.prototype 属性将共享属性添加到以前定义的对象类型。这定义了一个由该函数创建的所有对象共享的属性，而不仅仅是对象类型的其中一个实例。下面的代码将一个值为null的color属性添加到car类型的所有对象，然后仅在实例对象car1中用字符串“black”覆盖该值。详见 prototype。</p>
<p>浏览器首先检查，person1 对象是否具有可用的 valueOf() 方法。<br>如果没有，则浏览器检查 person1 对象的原型对象（即 Person构造函数的prototype属性所指向的对象）是否具有可用的 valueof() 方法。<br>如果也没有，则浏览器检查 Person() 构造函数的prototype属性所指向的对象的原型对象（即 Object构造函数的prototype属性所指向的对象）是否具有可用的 valueOf() 方法。这里有这个方法，于是该方法被调用。</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Objects/Object_prototypes" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Objects/Object_prototypes</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kangning1206.github.io/2015/10/12/prototype/" data-id="cjp89btqs000bzvo1hflyvk41" class="article-share-link">Share</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript-继承/">javascript 继承</a></li></ul>

    </footer>
  </div>

  

</article>



      
        <article id="post-css" class="article article-type-post" itemscope="" itemprop="blogPost">

  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 itemprop="name">
      <a class="article-title" href="/2015/01/30/css/">css</a>
    </h2>
  

      </header>
    

    
      <div class="article-meta">
        <a href="/2015/01/30/css/" class="article-date">
  <time datetime="2015-01-30T05:44:26.000Z" itemprop="datePublished">2015-01-30</time>
</a>
        
      </div>
    

    <div class="article-entry" itemprop="articleBody">
      
      
      
        <h2 id="CSS-实际上如何工作？"><a href="#CSS-实际上如何工作？" class="headerlink" title="CSS 实际上如何工作？"></a>CSS 实际上如何工作？</h2><p>当浏览器显示文档时，它必须将文档的内容与其样式信息结合。它分两个阶段处理文档：</p>
<p>浏览器将 HTML 和 CSS 转化成 DOM （文档对象模型）。DOM在计算机内存中表示文档。它把文档内容和其样式结合在一起。<br>浏览器显示 DOM 的内容。</p>
<div style="text-align: center;"><img src="https://mdn.mozillademos.org/files/11781/rendering.svg" alt=""></div>


<h2 id="如何将你的-CSS-应用到你的-HTML-上"><a href="#如何将你的-CSS-应用到你的-HTML-上" class="headerlink" title="如何将你的 CSS 应用到你的 HTML 上"></a>如何将你的 CSS 应用到你的 HTML 上</h2><ul>
<li>外部样式表</li>
<li>内部样式表</li>
<li>内联样式</li>
</ul>
<h2 id="CSS-声明"><a href="#CSS-声明" class="headerlink" title="CSS 声明"></a>CSS 声明</h2><p>由于 属性名和属性值 结对构成；</p>
<div style="text-align: center;"><img src="https://mdn.mozillademos.org/files/16188/css_syntax_-_declaration.png" alt=""></div>

<h2 id="css-选择器分类"><a href="#css-选择器分类" class="headerlink" title="css 选择器分类"></a>css 选择器分类</h2><ul>
<li>简单选择器（Simple selectors）：通过元素类型、class 或 id 匹配一个或多个元素。</li>
<li>属性选择器（Attribute selectors）：通过 属性 / 属性值 匹配一个或多个元素。</li>
<li>伪类（Pseudo-classes）：匹配处于确定状态的一个或多个元素，比如被鼠标指针悬停的元素，或当前被选中或未选中的复选框，或元素是DOM树中一父节点的第一个子节点。</li>
<li>伪元素（Pseudo-elements）:匹配处于相关的确定位置的一个或多个元素，例如每个段落的第一个字，或者某个元素之前生成的内容。 </li>
<li>组合器（Combinators）：这里不仅仅是选择器本身，还有以有效的方式组合两个或更多的选择器用于非常特定的选择的方法。例如，你可以只选择divs的直系子节点的段落，或者直接跟在headings后面的段落。</li>
<li>多重选择器（Multiple selectors）：这些也不是单独的选择器；这个思路是将以逗号分隔开的多个选择器放在一个CSS规则下面， 以将一组声明应用于由这些选择器选择的所有元素。</li>
</ul>
<h3 id="简单选择器"><a href="#简单选择器" class="headerlink" title="简单选择器"></a>简单选择器</h3><h3 id="伪类"><a href="#伪类" class="headerlink" title="伪类"></a>伪类</h3><p>伪类不是选择元素，而是元素的某些部分，或仅在某些特定上下文中存在的元素。它们有两种主要类型 ： 伪类和伪元素。</p>
<p>一个 CSS  伪类（pseudo-class） 是<code>一个以冒号(:)</code>作为前缀，被添加到一个选择器末尾的关键字，当你希望样式在特定状态下才被呈现到指定的元素时，你可以往元素的选择器后面加上对应的伪类（pseudo-class）。你可能希望某个元素在处于某种状态下呈现另一种样式，例如当鼠标悬停在元素上面时，或者当一个复选框被禁用或被勾选时，又或者当一个元素是它在 DOM 树中父元素的第一个子元素时。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:active</span></span><br><span class="line"><span class="selector-pseudo">:any</span></span><br><span class="line"><span class="selector-pseudo">:checked</span></span><br><span class="line"><span class="selector-pseudo">:default</span></span><br><span class="line"><span class="selector-pseudo">:dir()</span></span><br><span class="line"><span class="selector-pseudo">:disabled</span></span><br><span class="line"><span class="selector-pseudo">:empty</span></span><br><span class="line"><span class="selector-pseudo">:enabled</span></span><br><span class="line"><span class="selector-pseudo">:first</span></span><br><span class="line"><span class="selector-pseudo">:first-child</span></span><br><span class="line"><span class="selector-pseudo">:first-of-type</span></span><br><span class="line"><span class="selector-pseudo">:fullscreen</span></span><br><span class="line"><span class="selector-pseudo">:focus</span></span><br><span class="line"><span class="selector-pseudo">:hover</span></span><br><span class="line"><span class="selector-pseudo">:indeterminate</span></span><br><span class="line"><span class="selector-pseudo">:in-range</span></span><br><span class="line"><span class="selector-pseudo">:invalid</span></span><br><span class="line"><span class="selector-pseudo">:lang()</span></span><br><span class="line"><span class="selector-pseudo">:last-child</span></span><br><span class="line"><span class="selector-pseudo">:last-of-type</span></span><br><span class="line"><span class="selector-pseudo">:left</span></span><br><span class="line"><span class="selector-pseudo">:link</span></span><br><span class="line"><span class="selector-pseudo">:not()</span></span><br><span class="line"><span class="selector-pseudo">:nth-child()</span></span><br><span class="line"><span class="selector-pseudo">:nth-last-child()</span></span><br><span class="line"><span class="selector-pseudo">:nth-last-of-type()</span></span><br><span class="line"><span class="selector-pseudo">:nth-of-type()</span></span><br><span class="line"><span class="selector-pseudo">:only-child</span></span><br><span class="line"><span class="selector-pseudo">:only-of-type</span></span><br><span class="line"><span class="selector-pseudo">:optional</span></span><br><span class="line"><span class="selector-pseudo">:out-of-range</span></span><br><span class="line"><span class="selector-pseudo">:read-only</span></span><br><span class="line"><span class="selector-pseudo">:read-write</span></span><br><span class="line"><span class="selector-pseudo">:required</span></span><br><span class="line"><span class="selector-pseudo">:right</span></span><br><span class="line"><span class="selector-pseudo">:root</span></span><br><span class="line"><span class="selector-pseudo">:scope</span></span><br><span class="line"><span class="selector-pseudo">:target</span></span><br><span class="line"><span class="selector-pseudo">:valid</span></span><br><span class="line"><span class="selector-pseudo">:visited</span></span><br></pre></td></tr></table></figure>
<h3 id="伪元素"><a href="#伪元素" class="headerlink" title="伪元素"></a>伪元素</h3><p>伪元素（Pseudo-element）跟伪类很像，但它们又有不同的地方。它们都是关键字，但这次伪元素前缀是<code>两个冒号 (::)</code>， 同样是添加到选择器后面去选择某个元素的某个部分。</p>
<p>我最熟悉的清除浮动 <code>.cleanfix</code>，就是利用了伪元素，给其设置样式和内容以此影响浮动；<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">::after</span><br><span class="line">::before</span><br><span class="line">::first-letter</span><br><span class="line">::first-line</span><br><span class="line">::selection</span><br><span class="line">::backdrop</span><br></pre></td></tr></table></figure></p>
<h3 id="组合选择器"><a href="#组合选择器" class="headerlink" title="组合选择器"></a>组合选择器</h3><table>
<thead>
<tr>
<th>名称</th>
<th style="text-align:center">组合器</th>
<th style="text-align:left">选择</th>
</tr>
</thead>
<tbody>
<tr>
<td>选择器组</td>
<td style="text-align:center">A,B</td>
<td style="text-align:left">匹配满足A（和/或）B的任意元素</td>
</tr>
<tr>
<td>后代选择器</td>
<td style="text-align:center">A B</td>
<td style="text-align:left">匹配B元素，满足条件：B是A的后代结点（B是A的子节点，或者A的子节点的子节点）</td>
</tr>
<tr>
<td>子选择器</td>
<td style="text-align:center">A &gt; B</td>
<td style="text-align:left">匹配B元素，满足条件：B是A的<code>直接子节点</code></td>
</tr>
<tr>
<td>相邻兄弟选择器</td>
<td style="text-align:center">A + B</td>
<td style="text-align:left">匹配B元素，满足条件：B是A的<code>下一个兄弟节点</code>（AB有相同的父结点，并且B紧跟在A的后面）</td>
</tr>
<tr>
<td>通用兄弟选择器</td>
<td style="text-align:center">A ~ B</td>
<td style="text-align:left">匹配B元素，满足条件：B是A之后的兄弟节点中的任意一个（AB有相同的父节点，B在A之后，但不一定是紧挨着A）</td>
</tr>
</tbody>
</table>
<h3 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h3><p>颜色是由 Red、Green、Blue三个颜色调和，每个颜色256种</p>
<ul>
<li>名称：如 <code>red</code></li>
<li>16进制 如 <code>#ffff00</code>,其中两个表示一个颜色通道</li>
<li>RGB,如 <code>rgb(255,0,0);</code>, rbg是个函数，会帮我们计算，差别是每个是10进制</li>
<li><p>HSL 支持度比RGB稍微差一点的是HSL（旧版本的IE浏览器不支持），这是在众多开发者对其产生兴趣之后才实现的——hsl()函数接受三个表示色调、饱和度以及明度的参数，使用与上述三种不同的方式来区分大约1670万种颜色：</p>
<ul>
<li>色调：颜色的底色调。这个值在0到360之间，表示色轮的角度。</li>
<li>饱和度：饱和度是多少？这需要一个从0-100%的值，其中0是没有颜色（它将显示为灰色），100%是全彩色饱和度。</li>
<li>明度：颜色有多亮或明亮？这需要一个从0-100%的值，其中0是无光（它会出现全黑的），100%是充满光的（它会出现全白）。</li>
</ul>
</li>
<li><p>RGBA 和 HSLA 是RGB、HSL的对应透明度transparency函数；</p>
</li>
</ul>
<blockquote>
<p>颜色数值颜色，在chrome开发者工具，颜色面板可以转化查看;css更多函数值另查手册；</p>
</blockquote>
<blockquote>
<p><code>RGBA透明度与opacity属性差别</code>，opacity除了影响自身透明，还影响了子节点透明度，rgba只设置了自己；</p>
</blockquote>
<h3 id="选择器计算规则"><a href="#选择器计算规则" class="headerlink" title="选择器计算规则"></a>选择器计算规则</h3><p>一个选择器具有的专用性的量是用四种不同的值（或组件）来衡量的，它们可以被认为是千位，百位，十位和个位——在四个列中的四个简单数字：</p>
<ul>
<li>千位：如果声明是在style 属性中该列加1分（这样的声明没有选择器，所以它们的专用性总是1000。）否则为0。</li>
<li>百位：在整个选择器中每包含一个ID选择器就在该列中加1分。</li>
<li>十位：在整个选择器中每包含一个类选择器、属性选择器、或者伪类就在该列中加1分。</li>
<li>个位：在整个选择器中每包含一个元素选择器或伪元素就在该列中加1分。</li>
</ul>
<h3 id="float-元素如何工作"><a href="#float-元素如何工作" class="headerlink" title="float 元素如何工作"></a>float 元素如何工作</h3><p>浮动元素会脱离正常的文档布局流，并吸附到<code>其父容器的左边 flaot:left</code>。在正常布局中位于该浮动元素之下的内容，此时会围绕着浮动元素，填满其右侧的空间。</p>
<p>注意浮动内容仍然遵循盒子模型诸如外边距和边界。我们设置一下图片右侧的外边距就能阻止右侧的文字紧贴着图片。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">.clearfix &#123;</span><br><span class="line">  zoom: 1;</span><br><span class="line">&#125;</span><br><span class="line">.clearfix:after &#123;</span><br><span class="line">  content: &quot;&quot;;</span><br><span class="line">  display: table;</span><br><span class="line">&#125;</span><br><span class="line">.clearfix:after &#123;</span><br><span class="line">  clear: both;</span><br><span class="line">&#125;*/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.fn-clear &#123;</span><br><span class="line">  zoom: 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.clearfix:after &#123;</span><br><span class="line">  visibility: hidden;</span><br><span class="line">  display: block;</span><br><span class="line">  font-size: 0;</span><br><span class="line">  height: 0;</span><br><span class="line">  content: &quot; &quot;;</span><br><span class="line">  clear: both</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="外边距叠加"><a href="#外边距叠加" class="headerlink" title="外边距叠加"></a>外边距叠加</h3><p>如果两个相邻元素都在其上设置外边距，并且两个外边距接触，则两个外边距中的较大者保留，较小的一个消失——这叫外边距折叠, 我们之前也遇到过。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kangning1206.github.io/2015/01/30/css/" data-id="cjp89btqj0005zvo1qt4zsanb" class="article-share-link">Share</a>
      
    </footer>
  </div>

  

</article>



      
  </article>
  
  
    <nav class="page-nav">
      
      <a class="extend prev" rel="prev" href="/">Newer posts</a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
    </nav>
  
</section>
</div>

  <footer class="footer">
  
  <div class="outer">
    <ul class="list-inline">
      <li>&copy; 2018 点滴</li>
      <li>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></li>
      <li>Theme  <a href="https://zhwangart.github.io">zhwangart</a></li>
    </ul>
  </div>
</footer>
</main>
<aside class="sidebar">
  <button class="navbar-toggle"></button>

<nav class="navbar">
  
    <div class="logo">
      <a href="/"><img src="/images/hexo.svg" alt="点滴"></a>
    </div>
  
  <ul class="nav nav-main">
    
      <li class="nav-item">
        <a class="nav-item-link" href="/">Home</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/archives">Archives</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/gallery">Gallery</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/about">About</a>
      </li>
    
    <li class="nav-item">
      <a class="nav-item-link nav-item-search" title="搜索">
        <i class="fe fe-search"></i>
        Search
      </a>
    </li>
  </ul>
</nav>

<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
        <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
          <i class="fe fe-feed"></i>
        </a>
      
    </li>
  </ul>
</nav>

<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
</aside>
<script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/lazyload.min.js"></script>


  <script src="/fancybox/jquery.fancybox.min.js"></script>



  <script src="/js/search.js"></script>


<script src="/js/ocean.js"></script>

</body>
</html>